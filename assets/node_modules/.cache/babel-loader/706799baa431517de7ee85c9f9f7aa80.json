{"ast":null,"code":"/*\r\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\nvar dataMemory = {};\n/** @class */\n\nvar MemoryStorage =\n/** @class */\nfunction () {\n  function MemoryStorage() {}\n  /**\r\n   * This is used to set a specific item in storage\r\n   * @param {string} key - the key for the item\r\n   * @param {object} value - the value\r\n   * @returns {string} value that was set\r\n   */\n\n\n  MemoryStorage.setItem = function (key, value) {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  };\n  /**\r\n   * This is used to get a specific key from storage\r\n   * @param {string} key - the key for the item\r\n   * This is used to clear the storage\r\n   * @returns {string} the data item\r\n   */\n\n\n  MemoryStorage.getItem = function (key) {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  };\n  /**\r\n   * This is used to remove an item from storage\r\n   * @param {string} key - the key being set\r\n   * @returns {string} value - value that was deleted\r\n   */\n\n\n  MemoryStorage.removeItem = function (key) {\n    return delete dataMemory[key];\n  };\n  /**\r\n   * This is used to clear the storage\r\n   * @returns {string} nothing\r\n   */\n\n\n  MemoryStorage.clear = function () {\n    dataMemory = {};\n    return dataMemory;\n  };\n\n  return MemoryStorage;\n}();\n\nexport { MemoryStorage };\n\nvar StorageHelper =\n/** @class */\nfunction () {\n  /**\r\n   * This is used to get a storage object\r\n   * @returns {object} the storage\r\n   */\n  function StorageHelper() {\n    try {\n      this.storageWindow = window.localStorage;\n      this.storageWindow.setItem('aws.amplify.test-ls', 1);\n      this.storageWindow.removeItem('aws.amplify.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n  /**\r\n   * This is used to return the storage\r\n   * @returns {object} the storage\r\n   */\n\n\n  StorageHelper.prototype.getStorage = function () {\n    return this.storageWindow;\n  };\n\n  return StorageHelper;\n}();\n\nexport default StorageHelper;","map":{"version":3,"sources":["../../src/StorageHelper/index.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;AAWG;AAEH,IAAI,UAAU,GAAG,EAAjB;AAEA;;AACA,IAAA,aAAA;AAAA;AAAA,YAAA;AAAA,WAAA,aAAA,GAAA,CAyCC;AAxCA;;;;;AAKG;;;AACI,EAAA,aAAA,CAAA,OAAA,GAAP,UAAe,GAAf,EAAoB,KAApB,EAAyB;AACxB,IAAA,UAAU,CAAC,GAAD,CAAV,GAAkB,KAAlB;AACA,WAAO,UAAU,CAAC,GAAD,CAAjB;AACA,GAHM;AAKP;;;;;AAKG;;;AACI,EAAA,aAAA,CAAA,OAAA,GAAP,UAAe,GAAf,EAAkB;AACjB,WAAO,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,UAArC,EAAiD,GAAjD,IACJ,UAAU,CAAC,GAAD,CADN,GAEJ,SAFH;AAGA,GAJM;AAMP;;;;AAIG;;;AACI,EAAA,aAAA,CAAA,UAAA,GAAP,UAAkB,GAAlB,EAAqB;AACpB,WAAO,OAAO,UAAU,CAAC,GAAD,CAAxB;AACA,GAFM;AAIP;;;AAGG;;;AACI,EAAA,aAAA,CAAA,KAAA,GAAP,YAAA;AACC,IAAA,UAAU,GAAG,EAAb;AACA,WAAO,UAAP;AACA,GAHM;;AAIR,SAAA,aAAA;AAAC,CAzCD,EAAA;;;;AA2CA,IAAA,aAAA;AAAA;AAAA,YAAA;AAEC;;;AAGG;AACH,WAAA,aAAA,GAAA;AACC,QAAI;AACH,WAAK,aAAL,GAAqB,MAAM,CAAC,YAA5B;AACA,WAAK,aAAL,CAAmB,OAAnB,CAA2B,qBAA3B,EAAkD,CAAlD;AACA,WAAK,aAAL,CAAmB,UAAnB,CAA8B,qBAA9B;AACA,KAJD,CAIE,OAAO,SAAP,EAAkB;AACnB,WAAK,aAAL,GAAqB,aAArB;AACA;AACD;AAED;;;AAGG;;;AACH,EAAA,aAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACC,WAAO,KAAK,aAAZ;AACA,GAFD;;AAGD,SAAA,aAAA;AAAC,CAvBD,EAAA","sourceRoot":"","sourcesContent":["/*\r\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\r\nvar dataMemory = {};\r\n/** @class */\r\nvar MemoryStorage = /** @class */ (function () {\r\n    function MemoryStorage() {\r\n    }\r\n    /**\r\n     * This is used to set a specific item in storage\r\n     * @param {string} key - the key for the item\r\n     * @param {object} value - the value\r\n     * @returns {string} value that was set\r\n     */\r\n    MemoryStorage.setItem = function (key, value) {\r\n        dataMemory[key] = value;\r\n        return dataMemory[key];\r\n    };\r\n    /**\r\n     * This is used to get a specific key from storage\r\n     * @param {string} key - the key for the item\r\n     * This is used to clear the storage\r\n     * @returns {string} the data item\r\n     */\r\n    MemoryStorage.getItem = function (key) {\r\n        return Object.prototype.hasOwnProperty.call(dataMemory, key)\r\n            ? dataMemory[key]\r\n            : undefined;\r\n    };\r\n    /**\r\n     * This is used to remove an item from storage\r\n     * @param {string} key - the key being set\r\n     * @returns {string} value - value that was deleted\r\n     */\r\n    MemoryStorage.removeItem = function (key) {\r\n        return delete dataMemory[key];\r\n    };\r\n    /**\r\n     * This is used to clear the storage\r\n     * @returns {string} nothing\r\n     */\r\n    MemoryStorage.clear = function () {\r\n        dataMemory = {};\r\n        return dataMemory;\r\n    };\r\n    return MemoryStorage;\r\n}());\r\nexport { MemoryStorage };\r\nvar StorageHelper = /** @class */ (function () {\r\n    /**\r\n     * This is used to get a storage object\r\n     * @returns {object} the storage\r\n     */\r\n    function StorageHelper() {\r\n        try {\r\n            this.storageWindow = window.localStorage;\r\n            this.storageWindow.setItem('aws.amplify.test-ls', 1);\r\n            this.storageWindow.removeItem('aws.amplify.test-ls');\r\n        }\r\n        catch (exception) {\r\n            this.storageWindow = MemoryStorage;\r\n        }\r\n    }\r\n    /**\r\n     * This is used to return the storage\r\n     * @returns {object} the storage\r\n     */\r\n    StorageHelper.prototype.getStorage = function () {\r\n        return this.storageWindow;\r\n    };\r\n    return StorageHelper;\r\n}());\r\nexport default StorageHelper;\r\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}
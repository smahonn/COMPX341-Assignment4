{"ast":null,"code":"var AWS = require('./core');\n\nvar inherit = AWS.util.inherit;\n\nvar jmespath = require('jmespath');\n/**\r\n * This class encapsulates the response information\r\n * from a service request operation sent through {AWS.Request}.\r\n * The response object has two main properties for getting information\r\n * back from a request:\r\n *\r\n * ## The `data` property\r\n *\r\n * The `response.data` property contains the serialized object data\r\n * retrieved from the service request. For instance, for an\r\n * Amazon DynamoDB `listTables` method call, the response data might\r\n * look like:\r\n *\r\n * ```\r\n * > resp.data\r\n * { TableNames:\r\n *    [ 'table1', 'table2', ... ] }\r\n * ```\r\n *\r\n * The `data` property can be null if an error occurs (see below).\r\n *\r\n * ## The `error` property\r\n *\r\n * In the event of a service error (or transfer error), the\r\n * `response.error` property will be filled with the given\r\n * error data in the form:\r\n *\r\n * ```\r\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\r\n *   message: 'Some human readable error message' }\r\n * ```\r\n *\r\n * In the case of an error, the `data` property will be `null`.\r\n * Note that if you handle events that can be in a failure state,\r\n * you should always check whether `response.error` is set\r\n * before attempting to access the `response.data` property.\r\n *\r\n * @!attribute data\r\n *   @readonly\r\n *   @!group Data Properties\r\n *   @note Inside of a {AWS.Request~httpData} event, this\r\n *     property contains a single raw packet instead of the\r\n *     full de-serialized service response.\r\n *   @return [Object] the de-serialized response data\r\n *     from the service.\r\n *\r\n * @!attribute error\r\n *   An structure containing information about a service\r\n *   or networking error.\r\n *   @readonly\r\n *   @!group Data Properties\r\n *   @note This attribute is only filled if a service or\r\n *     networking error occurs.\r\n *   @return [Error]\r\n *     * code [String] a unique short code representing the\r\n *       error that was emitted.\r\n *     * message [String] a longer human readable error message\r\n *     * retryable [Boolean] whether the error message is\r\n *       retryable.\r\n *     * statusCode [Numeric] in the case of a request that reached the service,\r\n *       this value contains the response status code.\r\n *     * time [Date] the date time object when the error occurred.\r\n *     * hostname [String] set when a networking error occurs to easily\r\n *       identify the endpoint of the request.\r\n *     * region [String] set when a networking error occurs to easily\r\n *       identify the region of the request.\r\n *\r\n * @!attribute requestId\r\n *   @readonly\r\n *   @!group Data Properties\r\n *   @return [String] the unique request ID associated with the response.\r\n *     Log this value when debugging requests for AWS support.\r\n *\r\n * @!attribute retryCount\r\n *   @readonly\r\n *   @!group Operation Properties\r\n *   @return [Integer] the number of retries that were\r\n *     attempted before the request was completed.\r\n *\r\n * @!attribute redirectCount\r\n *   @readonly\r\n *   @!group Operation Properties\r\n *   @return [Integer] the number of redirects that were\r\n *     followed before the request was completed.\r\n *\r\n * @!attribute httpResponse\r\n *   @readonly\r\n *   @!group HTTP Properties\r\n *   @return [AWS.HttpResponse] the raw HTTP response object\r\n *     containing the response headers and body information\r\n *     from the server.\r\n *\r\n * @see AWS.Request\r\n */\n\n\nAWS.Response = inherit({\n  /**\r\n   * @api private\r\n   */\n  constructor: function Response(request) {\n    this.request = request;\n    this.data = null;\n    this.error = null;\n    this.retryCount = 0;\n    this.redirectCount = 0;\n    this.httpResponse = new AWS.HttpResponse();\n\n    if (request) {\n      this.maxRetries = request.service.numRetries();\n      this.maxRedirects = request.service.config.maxRedirects;\n    }\n  },\n\n  /**\r\n   * Creates a new request for the next page of response data, calling the\r\n   * callback with the page data if a callback is provided.\r\n   *\r\n   * @callback callback function(err, data)\r\n   *   Called when a page of data is returned from the next request.\r\n   *\r\n   *   @param err [Error] an error object, if an error occurred in the request\r\n   *   @param data [Object] the next page of data, or null, if there are no\r\n   *     more pages left.\r\n   * @return [AWS.Request] the request object for the next page of data\r\n   * @return [null] if no callback is provided and there are no pages left\r\n   *   to retrieve.\r\n   * @since v1.4.0\r\n   */\n  nextPage: function nextPage(callback) {\n    var config;\n    var service = this.request.service;\n    var operation = this.request.operation;\n\n    try {\n      config = service.paginationConfig(operation, true);\n    } catch (e) {\n      this.error = e;\n    }\n\n    if (!this.hasNextPage()) {\n      if (callback) callback(this.error, null);else if (this.error) throw this.error;\n      return null;\n    }\n\n    var params = AWS.util.copy(this.request.params);\n\n    if (!this.nextPageTokens) {\n      return callback ? callback(null, null) : null;\n    } else {\n      var inputTokens = config.inputToken;\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n\n      for (var i = 0; i < inputTokens.length; i++) {\n        params[inputTokens[i]] = this.nextPageTokens[i];\n      }\n\n      return service.makeRequest(this.request.operation, params, callback);\n    }\n  },\n\n  /**\r\n   * @return [Boolean] whether more pages of data can be returned by further\r\n   *   requests\r\n   * @since v1.4.0\r\n   */\n  hasNextPage: function hasNextPage() {\n    this.cacheNextPageTokens();\n    if (this.nextPageTokens) return true;\n    if (this.nextPageTokens === undefined) return undefined;else return false;\n  },\n\n  /**\r\n   * @api private\r\n   */\n  cacheNextPageTokens: function cacheNextPageTokens() {\n    if (Object.prototype.hasOwnProperty.call(this, 'nextPageTokens')) return this.nextPageTokens;\n    this.nextPageTokens = undefined;\n    var config = this.request.service.paginationConfig(this.request.operation);\n    if (!config) return this.nextPageTokens;\n    this.nextPageTokens = null;\n\n    if (config.moreResults) {\n      if (!jmespath.search(this.data, config.moreResults)) {\n        return this.nextPageTokens;\n      }\n    }\n\n    var exprs = config.outputToken;\n    if (typeof exprs === 'string') exprs = [exprs];\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\n      var output = jmespath.search(this.data, expr);\n\n      if (output) {\n        this.nextPageTokens = this.nextPageTokens || [];\n        this.nextPageTokens.push(output);\n      }\n    });\n    return this.nextPageTokens;\n  }\n});","map":{"version":3,"sources":["C:/Users/Shutt/Documents/COMPX341/COMPX341-Assignment4/assets/node_modules/aws-sdk/lib/response.js"],"names":["AWS","require","inherit","util","jmespath","Response","constructor","request","data","error","retryCount","redirectCount","httpResponse","HttpResponse","maxRetries","service","numRetries","maxRedirects","config","nextPage","callback","operation","paginationConfig","e","hasNextPage","params","copy","nextPageTokens","inputTokens","inputToken","i","length","makeRequest","cacheNextPageTokens","undefined","Object","prototype","hasOwnProperty","call","moreResults","search","exprs","outputToken","arrayEach","expr","output","push"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACA,IAAIC,OAAO,GAAGF,GAAG,CAACG,IAAJ,CAASD,OAAvB;;AACA,IAAIE,QAAQ,GAAGH,OAAO,CAAC,UAAD,CAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAD,GAAG,CAACK,QAAJ,GAAeH,OAAO,CAAC;AAErB;AACF;AACA;AACEI,EAAAA,WAAW,EAAE,SAASD,QAAT,CAAkBE,OAAlB,EAA2B;AACtC,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,YAAL,GAAoB,IAAIZ,GAAG,CAACa,YAAR,EAApB;;AACA,QAAIN,OAAJ,EAAa;AACX,WAAKO,UAAL,GAAkBP,OAAO,CAACQ,OAAR,CAAgBC,UAAhB,EAAlB;AACA,WAAKC,YAAL,GAAoBV,OAAO,CAACQ,OAAR,CAAgBG,MAAhB,CAAuBD,YAA3C;AACD;AACF,GAhBoB;;AAkBrB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEE,EAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,QAAlB,EAA4B;AACpC,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","sourcesContent":["var AWS = require('./core');\r\nvar inherit = AWS.util.inherit;\r\nvar jmespath = require('jmespath');\r\n\r\n/**\r\n * This class encapsulates the response information\r\n * from a service request operation sent through {AWS.Request}.\r\n * The response object has two main properties for getting information\r\n * back from a request:\r\n *\r\n * ## The `data` property\r\n *\r\n * The `response.data` property contains the serialized object data\r\n * retrieved from the service request. For instance, for an\r\n * Amazon DynamoDB `listTables` method call, the response data might\r\n * look like:\r\n *\r\n * ```\r\n * > resp.data\r\n * { TableNames:\r\n *    [ 'table1', 'table2', ... ] }\r\n * ```\r\n *\r\n * The `data` property can be null if an error occurs (see below).\r\n *\r\n * ## The `error` property\r\n *\r\n * In the event of a service error (or transfer error), the\r\n * `response.error` property will be filled with the given\r\n * error data in the form:\r\n *\r\n * ```\r\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\r\n *   message: 'Some human readable error message' }\r\n * ```\r\n *\r\n * In the case of an error, the `data` property will be `null`.\r\n * Note that if you handle events that can be in a failure state,\r\n * you should always check whether `response.error` is set\r\n * before attempting to access the `response.data` property.\r\n *\r\n * @!attribute data\r\n *   @readonly\r\n *   @!group Data Properties\r\n *   @note Inside of a {AWS.Request~httpData} event, this\r\n *     property contains a single raw packet instead of the\r\n *     full de-serialized service response.\r\n *   @return [Object] the de-serialized response data\r\n *     from the service.\r\n *\r\n * @!attribute error\r\n *   An structure containing information about a service\r\n *   or networking error.\r\n *   @readonly\r\n *   @!group Data Properties\r\n *   @note This attribute is only filled if a service or\r\n *     networking error occurs.\r\n *   @return [Error]\r\n *     * code [String] a unique short code representing the\r\n *       error that was emitted.\r\n *     * message [String] a longer human readable error message\r\n *     * retryable [Boolean] whether the error message is\r\n *       retryable.\r\n *     * statusCode [Numeric] in the case of a request that reached the service,\r\n *       this value contains the response status code.\r\n *     * time [Date] the date time object when the error occurred.\r\n *     * hostname [String] set when a networking error occurs to easily\r\n *       identify the endpoint of the request.\r\n *     * region [String] set when a networking error occurs to easily\r\n *       identify the region of the request.\r\n *\r\n * @!attribute requestId\r\n *   @readonly\r\n *   @!group Data Properties\r\n *   @return [String] the unique request ID associated with the response.\r\n *     Log this value when debugging requests for AWS support.\r\n *\r\n * @!attribute retryCount\r\n *   @readonly\r\n *   @!group Operation Properties\r\n *   @return [Integer] the number of retries that were\r\n *     attempted before the request was completed.\r\n *\r\n * @!attribute redirectCount\r\n *   @readonly\r\n *   @!group Operation Properties\r\n *   @return [Integer] the number of redirects that were\r\n *     followed before the request was completed.\r\n *\r\n * @!attribute httpResponse\r\n *   @readonly\r\n *   @!group HTTP Properties\r\n *   @return [AWS.HttpResponse] the raw HTTP response object\r\n *     containing the response headers and body information\r\n *     from the server.\r\n *\r\n * @see AWS.Request\r\n */\r\nAWS.Response = inherit({\r\n\r\n  /**\r\n   * @api private\r\n   */\r\n  constructor: function Response(request) {\r\n    this.request = request;\r\n    this.data = null;\r\n    this.error = null;\r\n    this.retryCount = 0;\r\n    this.redirectCount = 0;\r\n    this.httpResponse = new AWS.HttpResponse();\r\n    if (request) {\r\n      this.maxRetries = request.service.numRetries();\r\n      this.maxRedirects = request.service.config.maxRedirects;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Creates a new request for the next page of response data, calling the\r\n   * callback with the page data if a callback is provided.\r\n   *\r\n   * @callback callback function(err, data)\r\n   *   Called when a page of data is returned from the next request.\r\n   *\r\n   *   @param err [Error] an error object, if an error occurred in the request\r\n   *   @param data [Object] the next page of data, or null, if there are no\r\n   *     more pages left.\r\n   * @return [AWS.Request] the request object for the next page of data\r\n   * @return [null] if no callback is provided and there are no pages left\r\n   *   to retrieve.\r\n   * @since v1.4.0\r\n   */\r\n  nextPage: function nextPage(callback) {\r\n    var config;\r\n    var service = this.request.service;\r\n    var operation = this.request.operation;\r\n    try {\r\n      config = service.paginationConfig(operation, true);\r\n    } catch (e) { this.error = e; }\r\n\r\n    if (!this.hasNextPage()) {\r\n      if (callback) callback(this.error, null);\r\n      else if (this.error) throw this.error;\r\n      return null;\r\n    }\r\n\r\n    var params = AWS.util.copy(this.request.params);\r\n    if (!this.nextPageTokens) {\r\n      return callback ? callback(null, null) : null;\r\n    } else {\r\n      var inputTokens = config.inputToken;\r\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\r\n      for (var i = 0; i < inputTokens.length; i++) {\r\n        params[inputTokens[i]] = this.nextPageTokens[i];\r\n      }\r\n      return service.makeRequest(this.request.operation, params, callback);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @return [Boolean] whether more pages of data can be returned by further\r\n   *   requests\r\n   * @since v1.4.0\r\n   */\r\n  hasNextPage: function hasNextPage() {\r\n    this.cacheNextPageTokens();\r\n    if (this.nextPageTokens) return true;\r\n    if (this.nextPageTokens === undefined) return undefined;\r\n    else return false;\r\n  },\r\n\r\n  /**\r\n   * @api private\r\n   */\r\n  cacheNextPageTokens: function cacheNextPageTokens() {\r\n    if (Object.prototype.hasOwnProperty.call(this, 'nextPageTokens')) return this.nextPageTokens;\r\n    this.nextPageTokens = undefined;\r\n\r\n    var config = this.request.service.paginationConfig(this.request.operation);\r\n    if (!config) return this.nextPageTokens;\r\n\r\n    this.nextPageTokens = null;\r\n    if (config.moreResults) {\r\n      if (!jmespath.search(this.data, config.moreResults)) {\r\n        return this.nextPageTokens;\r\n      }\r\n    }\r\n\r\n    var exprs = config.outputToken;\r\n    if (typeof exprs === 'string') exprs = [exprs];\r\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\r\n      var output = jmespath.search(this.data, expr);\r\n      if (output) {\r\n        this.nextPageTokens = this.nextPageTokens || [];\r\n        this.nextPageTokens.push(output);\r\n      }\r\n    });\r\n\r\n    return this.nextPageTokens;\r\n  }\r\n\r\n});\r\n"]},"metadata":{},"sourceType":"script"}
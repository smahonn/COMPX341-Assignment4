{"ast":null,"code":"/**\r\n * Copyright (c) 2018-present, Facebook, Inc.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n *  strict\r\n */\nimport { GraphQLError } from '../../error/GraphQLError';\nexport function schemaDefinitionNotAloneMessage() {\n  return 'Must provide only one schema definition.';\n}\nexport function canNotDefineSchemaWithinExtensionMessage() {\n  return 'Cannot define a new schema within a schema extension.';\n}\n/**\r\n * Lone Schema definition\r\n *\r\n * A GraphQL document is only valid if it contains only one schema definition.\r\n */\n\nexport function LoneSchemaDefinition(context) {\n  var oldSchema = context.getSchema();\n  var alreadyDefined = oldSchema && (oldSchema.astNode || oldSchema.getQueryType() || oldSchema.getMutationType() || oldSchema.getSubscriptionType());\n  var schemaDefinitionsCount = 0;\n  return {\n    SchemaDefinition: function SchemaDefinition(node) {\n      if (alreadyDefined) {\n        context.reportError(new GraphQLError(canNotDefineSchemaWithinExtensionMessage(), node));\n        return;\n      }\n\n      if (schemaDefinitionsCount > 0) {\n        context.reportError(new GraphQLError(schemaDefinitionNotAloneMessage(), node));\n      }\n\n      ++schemaDefinitionsCount;\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Shutt/Documents/COMPX341/COMPX341-Assignment4/assets/node_modules/@aws-amplify/api/node_modules/graphql/validation/rules/LoneSchemaDefinition.mjs"],"names":["GraphQLError","schemaDefinitionNotAloneMessage","canNotDefineSchemaWithinExtensionMessage","LoneSchemaDefinition","context","oldSchema","getSchema","alreadyDefined","astNode","getQueryType","getMutationType","getSubscriptionType","schemaDefinitionsCount","SchemaDefinition","node","reportError"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,YAAT,QAA6B,0BAA7B;AACA,OAAO,SAASC,+BAAT,GAA2C;AAChD,SAAO,0CAAP;AACD;AACD,OAAO,SAASC,wCAAT,GAAoD;AACzD,SAAO,uDAAP;AACD;AACD;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,oBAAT,CAA8BC,OAA9B,EAAuC;AAC5C,MAAIC,SAAS,GAAGD,OAAO,CAACE,SAAR,EAAhB;AACA,MAAIC,cAAc,GAAGF,SAAS,KAAKA,SAAS,CAACG,OAAV,IAAqBH,SAAS,CAACI,YAAV,EAArB,IAAiDJ,SAAS,CAACK,eAAV,EAAjD,IAAgFL,SAAS,CAACM,mBAAV,EAArF,CAA9B;AACA,MAAIC,sBAAsB,GAAG,CAA7B;AACA,SAAO;AACLC,IAAAA,gBAAgB,EAAE,SAASA,gBAAT,CAA0BC,IAA1B,EAAgC;AAChD,UAAIP,cAAJ,EAAoB;AAClBH,QAAAA,OAAO,CAACW,WAAR,CAAoB,IAAIf,YAAJ,CAAiBE,wCAAwC,EAAzD,EAA6DY,IAA7D,CAApB;AACA;AACD;;AAED,UAAIF,sBAAsB,GAAG,CAA7B,EAAgC;AAC9BR,QAAAA,OAAO,CAACW,WAAR,CAAoB,IAAIf,YAAJ,CAAiBC,+BAA+B,EAAhD,EAAoDa,IAApD,CAApB;AACD;;AAED,QAAEF,sBAAF;AACD;AAZI,GAAP;AAcD","sourcesContent":["/**\r\n * Copyright (c) 2018-present, Facebook, Inc.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n *  strict\r\n */\r\nimport { GraphQLError } from '../../error/GraphQLError';\r\nexport function schemaDefinitionNotAloneMessage() {\r\n  return 'Must provide only one schema definition.';\r\n}\r\nexport function canNotDefineSchemaWithinExtensionMessage() {\r\n  return 'Cannot define a new schema within a schema extension.';\r\n}\r\n/**\r\n * Lone Schema definition\r\n *\r\n * A GraphQL document is only valid if it contains only one schema definition.\r\n */\r\n\r\nexport function LoneSchemaDefinition(context) {\r\n  var oldSchema = context.getSchema();\r\n  var alreadyDefined = oldSchema && (oldSchema.astNode || oldSchema.getQueryType() || oldSchema.getMutationType() || oldSchema.getSubscriptionType());\r\n  var schemaDefinitionsCount = 0;\r\n  return {\r\n    SchemaDefinition: function SchemaDefinition(node) {\r\n      if (alreadyDefined) {\r\n        context.reportError(new GraphQLError(canNotDefineSchemaWithinExtensionMessage(), node));\r\n        return;\r\n      }\r\n\r\n      if (schemaDefinitionsCount > 0) {\r\n        context.reportError(new GraphQLError(schemaDefinitionNotAloneMessage(), node));\r\n      }\r\n\r\n      ++schemaDefinitionsCount;\r\n    }\r\n  };\r\n}"]},"metadata":{},"sourceType":"module"}
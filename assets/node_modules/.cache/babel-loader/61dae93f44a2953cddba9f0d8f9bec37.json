{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nimport UserAgent from './UserAgent';\n/** @class */\n\nvar Client = function () {\n  /**\r\n   * Constructs a new AWS Cognito Identity Provider client object\r\n   * @param {string} region AWS region\r\n   * @param {string} endpoint endpoint\r\n   */\n  function Client(region, endpoint) {\n    _classCallCheck(this, Client);\n\n    this.endpoint = endpoint || 'https://cognito-idp.' + region + '.amazonaws.com/';\n    this.userAgent = UserAgent.prototype.userAgent || 'aws-amplify/0.1.x js';\n  }\n  /**\r\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\r\n   * using fetch\r\n   * @param {string} operation API operation\r\n   * @param {object} params Input parameters\r\n   * @param {function} callback Callback called when a response is returned\r\n   * @returns {void}\r\n   */\n\n\n  Client.prototype.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': 'AWSCognitoIdentityProviderService.' + operation,\n      'X-Amz-User-Agent': this.userAgent\n    };\n    var options = {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    };\n    var response = void 0;\n    var responseJsonData = void 0;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json().catch(function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    }).catch(function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport default Client;","map":{"version":3,"sources":["C:/Users/Shutt/Documents/COMPX341/COMPX341-Assignment4/assets/node_modules/amazon-cognito-identity-js/es/Client.js"],"names":["_classCallCheck","instance","Constructor","TypeError","UserAgent","Client","region","endpoint","userAgent","prototype","request","operation","params","callback","headers","options","method","mode","cache","body","JSON","stringify","response","responseJsonData","fetch","then","resp","err","Error","json","catch","data","ok","code","__type","split","pop","error","name","message","Message","get","statusCode","status","toString","ex","_error"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nimport UserAgent from './UserAgent';\r\n/** @class */\r\n\r\nvar Client = function () {\r\n\t/**\r\n  * Constructs a new AWS Cognito Identity Provider client object\r\n  * @param {string} region AWS region\r\n  * @param {string} endpoint endpoint\r\n  */\r\n\tfunction Client(region, endpoint) {\r\n\t\t_classCallCheck(this, Client);\r\n\r\n\t\tthis.endpoint = endpoint || 'https://cognito-idp.' + region + '.amazonaws.com/';\r\n\t\tthis.userAgent = UserAgent.prototype.userAgent || 'aws-amplify/0.1.x js';\r\n\t}\r\n\r\n\t/**\r\n  * Makes an unauthenticated request on AWS Cognito Identity Provider API\r\n  * using fetch\r\n  * @param {string} operation API operation\r\n  * @param {object} params Input parameters\r\n  * @param {function} callback Callback called when a response is returned\r\n  * @returns {void}\r\n  */\r\n\r\n\r\n\tClient.prototype.request = function request(operation, params, callback) {\r\n\t\tvar headers = {\r\n\t\t\t'Content-Type': 'application/x-amz-json-1.1',\r\n\t\t\t'X-Amz-Target': 'AWSCognitoIdentityProviderService.' + operation,\r\n\t\t\t'X-Amz-User-Agent': this.userAgent\r\n\t\t};\r\n\r\n\t\tvar options = {\r\n\t\t\theaders: headers,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tmode: 'cors',\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tbody: JSON.stringify(params)\r\n\t\t};\r\n\r\n\t\tvar response = void 0;\r\n\t\tvar responseJsonData = void 0;\r\n\r\n\t\tfetch(this.endpoint, options).then(function (resp) {\r\n\t\t\tresponse = resp;\r\n\t\t\treturn resp;\r\n\t\t}, function (err) {\r\n\t\t\t// If error happens here, the request failed\r\n\t\t\t// if it is TypeError throw network error\r\n\t\t\tif (err instanceof TypeError) {\r\n\t\t\t\tthrow new Error('Network error');\r\n\t\t\t}\r\n\t\t\tthrow err;\r\n\t\t}).then(function (resp) {\r\n\t\t\treturn resp.json().catch(function () {\r\n\t\t\t\treturn {};\r\n\t\t\t});\r\n\t\t}).then(function (data) {\r\n\t\t\t// return parsed body stream\r\n\t\t\tif (response.ok) return callback(null, data);\r\n\t\t\tresponseJsonData = data;\r\n\r\n\t\t\t// Taken from aws-sdk-js/lib/protocol/json.js\r\n\t\t\t// eslint-disable-next-line no-underscore-dangle\r\n\t\t\tvar code = (data.__type || data.code).split('#').pop();\r\n\t\t\tvar error = {\r\n\t\t\t\tcode: code,\r\n\t\t\t\tname: code,\r\n\t\t\t\tmessage: data.message || data.Message || null\r\n\t\t\t};\r\n\t\t\treturn callback(error);\r\n\t\t}).catch(function (err) {\r\n\t\t\t// first check if we have a service error\r\n\t\t\tif (response && response.headers && response.headers.get('x-amzn-errortype')) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar code = response.headers.get('x-amzn-errortype').split(':')[0];\r\n\t\t\t\t\tvar error = {\r\n\t\t\t\t\t\tcode: code,\r\n\t\t\t\t\t\tname: code,\r\n\t\t\t\t\t\tstatusCode: response.status,\r\n\t\t\t\t\t\tmessage: response.status ? response.status.toString() : null\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn callback(error);\r\n\t\t\t\t} catch (ex) {\r\n\t\t\t\t\treturn callback(err);\r\n\t\t\t\t}\r\n\t\t\t\t// otherwise check if error is Network error\r\n\t\t\t} else if (err instanceof Error && err.message === 'Network error') {\r\n\t\t\t\tvar _error = {\r\n\t\t\t\t\tcode: 'NetworkError',\r\n\t\t\t\t\tname: err.name,\r\n\t\t\t\t\tmessage: err.message\r\n\t\t\t\t};\r\n\t\t\t\treturn callback(_error);\r\n\t\t\t} else {\r\n\t\t\t\treturn callback(err);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn Client;\r\n}();\r\n\r\nexport default Client;"]},"metadata":{},"sourceType":"module"}